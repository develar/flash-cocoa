<ac:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns="cocoa" xmlns:ac="acocoa" xmlns:s="library://ns.adobe.com/flex/spark" xmlns:aqua="cocoa.plaf.aqua.*" xmlns:tableview="cocoa.tableView.*">
  <fx:Script><![CDATA[
    import cocoa.Insets;
    import cocoa.plaf.TextFormatId;
    import cocoa.tableView.TableColumn;
    import cocoa.tableView.TableColumnImpl;
    import cocoa.tableView.TextRendererManager;
    import cocoa.text.TextLineRendererFactory;
    import cocoa.util.FileUtil;

    override protected function preInitialize():void {
      tableView.dataSource = new DemoTableViewDataSource();
      var insets:Insets = new Insets(2, NaN, NaN, 3);
      var firstColumn:TableColumnImpl = new TableColumnImpl(tableView, 'a', new TextRendererManager(laf.getTextFormat(TextFormatId.SMALL_SYSTEM), insets));
      firstColumn.width = 120;
      tableView.columns =
      new <TableColumn>[firstColumn, new TableColumnImpl(tableView, 'b', new TextRendererManager(laf.getTextFormat(TextFormatId.SMALL_SYSTEM), insets))];

      elementTreeBar.dataSource = new DemoCollectionViewDataSource();
      chl.rendererManager = new TextRendererManager(laf.getTextFormat(TextFormatId.SMALL_SYSTEM), insets);
    }

    public static function dd(s:String, v:ByteArray):void {
      FileUtil.writeBytes("/Users/develar/f/" + s + ".png", v);
    }

    private function changeS():void {
      DemoCollectionViewDataSource(elementTreeBar.dataSource).changeData();
    }

    private function changerf():void {
      DemoCollectionViewDataSource(elementTreeBar.dataSource).changeDataToNull();
    }
    ]]></fx:Script>
  <ac:laf>
    <aqua:AquaLookAndFeel/>
  </ac:laf>

  <Container width="100%" left="5" right="5">
    <layout>
      <s:VerticalLayout paddingTop="5" paddingRight="5"/>
    </layout>

    <Container>
      <layout>
        <s:VerticalLayout paddingTop="5" paddingLeft="5"/>
      </layout>

      <SegmentedControl>
        <dataProvider>
          <s:ArrayList>
            <fx:String>Lysandra</fx:String>
            <fx:String>Mallory</fx:String>
            <fx:String>Garth</fx:String>
          </s:ArrayList>
        </dataProvider>
      </SegmentedControl>
    </Container>
    <PushButton title="Change segmented control data" action="changeS"/>
    <PushButton title="Set segmented control data to empty" action="changerf"/>
    <CheckBox title="AAA"/>
    <CheckBox title="AAA Disabled" enabled="false"/>
    <CheckBox title="AAA selected Disabled" enabled="false" selected="true"/>
    <CheckBox lafSubkey="small"/>
    <tableview:TableView id="tableView" width="100%" height="100%" lafSubkey="small"/>

    <CollectionView id="elementTreeBar" width="100%">
      <layout>
        <CollectionHorizontalLayout id="chl" height="20"/>
      </layout>
    </CollectionView>
  </Container>
</ac:WindowedApplication>